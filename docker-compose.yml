version: '3.8'

services:
  excel-service:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: excel-upload-service
    ports:
      - "5001:5001"
    environment:
      # Flask settings
      - FLASK_ENV=production
      - FLASK_APP=api.py
      
      # JWT Settings (from .env)
      - JWT_SECRET_KEY=${JWT_SECRET_KEY}
      
      # Firebase settings (from .env)
      - FIREBASE_CREDENTIALS_PATH=/app/firebase-credentials.json
    
    volumes:
      # Mount Firebase credentials
      - ./firebase-credentials.json:/app/firebase-credentials.json:ro
    
    restart: unless-stopped
    
    networks:
      - app-network

networks:
  app-network:
    driver: bridge
